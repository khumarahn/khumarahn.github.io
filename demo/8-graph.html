<!DOCTYPE html>
<html>
    <body>
        <div id="demo"></div>
        <p>
            \[
                h(x) = \begin{cases}
                    x             &amp; x &gt; 1/2 \\
                    2 h(2x) - h(x + 0.5)    &amp; \text{else}
                \end{cases}
            \]
        </p>

        <script src="https://cdn.plot.ly/plotly-2.34.0.min.js" charset="utf-8"></script>
        
        <script>
            function silly(x) {
                if (x <= 0 || x >= 1) { return 0; }
                if (x >= 0.5) {
                    return x;
                } else {
                    return 2* silly(2 * x) - silly(x + 0.5);
                }
            }
            
            var graph = {
                x: [],
                y: []
            };

            // first branch
            for (let x = 1./2048; x <= 1.0; x += 1.0 / 2048) {
                graph.x.push(x);
                graph.y.push(silly(x));
            }

            Plotly.newPlot("demo", [graph]);
        </script>
        <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html> 
